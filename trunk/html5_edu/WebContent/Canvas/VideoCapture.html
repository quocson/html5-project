<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Insert title here</title>
<script>
var videoId = 'video';
var scaleFactor = 0.1;
var snapshots = [];
 
function capture(video, scaleFactor) {
	if(scaleFactor == null){
		scaleFactor = 1;
	}
	var w = video.videoWidth * scaleFactor;
	var h = video.videoHeight * scaleFactor;
	var canvas = document.createElement('canvas');
	canvas.width  = w;
	canvas.height = h;
	
	var ctx = canvas.getContext('2d');
	ctx.drawImage(video, 0, 0, w, h);
  
	return canvas;
} 
 
 
function shoot(){
	var video  = document.getElementById(videoId);
	var output = document.getElementById('output');
	var canvas = capture(video, scaleFactor);
	
	canvas.onclick = function(){
			window.open(this.toDataURL());
	};
	
	snapshots.unshift(canvas);
	output.innerHTML = '';
	for(var i=0; i<4; i++){
		output.appendChild(snapshots[i]);
	}
}
</script>
</head>
<body>
<div style="border: solid 1px #ccc; padding: 10px; text-align: center;">
	<video id="video" width="320" controls="true">
				<source src="resources/img/chrome.webm" type='video/webm; codecs="vp8, vorbis"' /> 
				<source src="resources/img/chrome.mp4"  type='video/mp4; codecs="avc1.42E01E, mp4a.40.2"' /> 
				<source src="resources/img/chrome.ogv"  type='video/ogg; codecs="theora, vorbis"' /> 
		Your browser does not support HTML5 video tag. Please download FireFox 3.5 or higher.
	</video><br/>
	<button onclick="shoot()" style="width: 64px;border: solid 2px #ccc;">Capture</button><br/>
	<div id="output" style="display: inline-block; top: 4px; position: relative ;border: dotted 1px #ccc; padding: 2px;"></div>
</div>
</body>
</html>